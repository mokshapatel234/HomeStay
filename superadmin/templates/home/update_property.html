{% extends 'layouts/base.html' %}

{% block title %} Profile {% endblock title %}

{% block content %}

<!-- Page content -->
    <div class="col-xl-12">
      <div class="card">
        <div class="card-header">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">Property Management</h3>
            </div>
           
          </div>
        </div>
        <div class="card-body">
          <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {% if msg %}
               <div>
                <h1 class="msg">{{msg}}</h1>
              </div>
             {% endif %}
            <h6 class="heading-small text-muted mb-4">Property information</h6>
            <div class="pl-lg-4">
                <div class="row">
                 
                </div>
                              
                <div class="row">
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-first-name"> Property Name</label>
                      <input type="text" id="input-first-name" class="form-control" placeholder="Property Name" name="property_name" value="{{property.name}}">
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-images">Root Image</label>
                      <input type="file" multiple id="input-images" class="form-control" placeholder="Images" name="root_image">
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-images"> Images</label>
                      <input type="file" multiple id="input-images" class="form-control" placeholder="Images" name="images">
                      <p data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">{{ num_images }} images stored</p>
                    </div>
                    {% for image in property_images %}
                    <div id="collapseFour">
                     <img style="height: 150px; width: 200px;" src="{{ image.image.url }}" alt="Image">
                     </div>
                    {% endfor %}
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-videos">Videos</label>
                      <input type="file" multiple id="input-videos" class="form-control" placeholder="Videos" name="videos">
                      <p data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">{{ num_videos }} videos stored</p>
                    </div>
                    
                    {% for video in property_videos %}
                    <div id="collapseFive">
                        <video controls style="height: 200px; width: 300px;">
                        <source   src="{{ video.video.url }}" type="video/mp4">
                      </video>
                    </div>
                  {% endfor %}
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-price">Price</label>
                      <input type="number"  id="input-price" class="form-control" placeholder="Price" name="price" value="{{property.price}}">
                    </div>
                  </div>
                  
                
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label">Description</label>
                      <textarea class="form-control" id="input_description" name="description" rows="4" cols="40" value="{{property.description}}"></textarea>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label">Owner</label>
                      <select name="owner" class="form-control">
                        {% if owner is client %}
                          {% for client in clients %}
                            <option value="{{ client.id }}">{{ client.first_name }} {{ client.last_name }}</option>
                          {% endfor %}
                        {% else %}
                          {% for admin in User %}
                            <option value="{{ admin.id }}">{{ admin.username }}</option>
                          {% endfor %}
                        {% endif %}
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" >Address</label>
                      <textarea class="form-control" value="{{propety.address}}" name="address" rows="4" cols="40" ></textarea>

                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" >Status</label>
                      <select id="input-status" name="status" class="form-control" value="{{property.status}}">
                        <option value="active">Active</option>
                        <option value="deactive">Deactive</option>
                      </select>
                    </div>
                  </div>
                  <div>
                  <div class="col-lg-6">
                    <div class="form-group">
                    {{form.media}}
                    <label class="form-control-label" >Terms:</label>
                    {{form.terms}}
                    </div>
                  </div>
                </div>
              </div>
              <center>
              <button class="btn btn-sm btn-primary" type='submit' value='submit' >Update</button>
              </center>
            </form>
        </div>
      </div>
    </div>
  </div>

 

</div>

{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}{% endblock javascripts %}
